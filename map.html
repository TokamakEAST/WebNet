<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>鸟害分布地图</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://webapi.amap.com/maps?v=1.4.15&key=17937f143a7e74decb294c5b4943a2eb"></script>
<style>
  #map {
    height: 800px;
    width: 70%;
  }
  .popup-text {
    max-width: 250px; /* 控制文字框的最大宽度 */
    background-color: rgba(255, 255, 255, 0.8); /* 半透明白色背景 */
    border: 1px solid #ccc; /* 边框样式 */
    padding: 5px; /* 文字周围的内边距 */
    margin-top: 5px; /* 文字框上方的外边距 */
    text-align: center; /* 文字居中对齐 */
    font-size: 14px; /* 字体大小 */
    color: #333; /* 字体颜色 */
    box-sizing: border-box; /* 内边距和边框包含在宽度计算内 */
  }
</style>
</head>
<body>
    <h1>鸟害分布地图</h1>
    <div id="map"></div>
<script>
    var map = new AMap.Map('map', {
        zoom: 16,
        center: [104.69588, 31.53709], // 中心点坐标
    });

    var images = [
        "birdFinal1.png",
        "birdFinal2.png",
        "birdFinal3.png",
        "birdFinal4.png",
        "birdFinal5.png",
    ];
    var texts = [
        "鸟害等级一",
        "鸟害等级二",
        "鸟害等级三",
        "鸟害等级四",
    ];

    map.on('click', function(e) {
        var randomImage = images[Math.floor(Math.random() * images.length)];
        var randomText = texts[Math.floor(Math.random() * texts.length)];
        var content = '<img src="' + randomImage + '" alt="Random Image" style="width:85%;height:70%;"><div class="popup-text">' + randomText + '</div>';
        
        var infoWindow = new AMap.InfoWindow({
            content: content,  //使用默认信息窗体框样式，显示信息内容
            offset: new AMap.Pixel(0, -28)
        });
        infoWindow.open(map, e.lnglat);
    });
</script>
</body>
</html>
